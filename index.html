<!--
  This file is part of github-label-manager.

  github-label-manager is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  github-label-manager is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with github-label-manager.  If not, see <http://www.gnu.org/licenses/>.
-->

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Github Label Manager</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="author" content="github.com/Badwater-Apps">
  <link href="css/bootstrap.css" rel="stylesheet">
  <link href="css/colorpicker.css" rel="stylesheet" />
  <link href="css/app.css" rel="stylesheet" />
</head>

<body>
  <a href="https://github.com/Badwater-Apps/github-label-manager-2" target="_blank"><img
      style="position: absolute; top: 0; right: 0; border: 0; z-index: 1031;"
      src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
  <div class="navbar sticky-top navbar-expand-md navbar-dark bg-dark">
    <div class="container">
      <a class="navbar-brand" href="#">&nbsp;Github Label Manager</a>
      <ul class="navbar-nav mr-auto">
        <li class="nav-item"><a class="nav-link" href="#whatForModal" data-toggle="modal">How this works</a></li>
      </ul>
    </div>
  </div>

  <div id="content" class="container">

    <div class="row">
      <div class="col-12 col-md-6">

        <h3>Manage your Github labels</h3>
        <form autocomplete="on">
          <input id="targetOwnerRepo" type="url" class="input-block form-control" placeholder="Owner:Repo"
            onchange="copyToBelow(this)">
          <script>
            function copyToBelow(element) {
              document.getElementById('targetUsername').value = element.value.split(':')[0];
            }
          </script>
          <input id="targetUsername" type="url" class="input-block form-control"
            placeholder="Username for authentication">
          <input id="githubPassword" type="password" class="input-block form-control"
            placeholder="Personal access token">
          <button id="listLabelsButton" type="button" class="btn btn-block btn-secondary mb-2"
            data-loading-text="Loading...">List labels in this repo</button>
        </form>

        <div id="optionalCopyContainer" class="card bg-light card-body mb-3">
          <button type="button" class="btn btn-block btn-secondary" data-toggle="collapse"
            data-target="#optionalCopyStuff">Copy an existing repo's labels (Optional)</button>
          <span class="form-text text-muted">You can copy any repo's labels and then modify them before committing to your repo.</span>
          <div id="optionalCopyStuff" class="collapse">
            <form class="form-inline">
              <input id="copyUrl" type="url" class="input-block form-control mt-2" placeholder="Owner:Repo">
              <button id="copyFromRepoButton" type="button" class="btn btn-info btn-block"
                data-loading-text="Adding...">Add</button>
              <button id="cloneFromRepoButton" type="button" class="btn btn-info btn-block"
                data-loading-text="Cloning...">Delete
                all existing labels and add</button>
              <span class="form-text text-muted">Can be any repo, no password or token required for copying.</span>
            </form>
          </div>
        </div>

        <button id="commitButton" type="button" class="btn btn-success btn-block btn-lg" disabled
          data-loading-text="Commiting...">
          Commit changes
        </button>

        <br>

        <div class="card bg-light card-body mb-3">
          <h3>Which repo is in use</h3>
          <pre><span id="targetIndicator">Not using any yet!</span></pre>
        </div>

        <div>
          <h3>Help</h3>
          <p>This web app works by making cross-site requests to Github's API.</p>
          <p>This web app does not cache at all. It does not store your usernames or personal access tokens.</p>
          <p class="mb-4">You can download this website and use it on your localhost.</p>

          <!-- Accordion stuff -->
          <div id="accordion">
            <div class="card">
              <div class="card-header" id="card-token-safety">
                <h5 class="mb-0">
                  <button class="btn btn-link collapsed" data-toggle="collapse"
                    data-target="#collapse-card-token-safety" aria-expanded="true"
                    aria-controls="collapse-card-token-safety">
                    Is my personal access token safe?
                  </button>
                </h5>
              </div>
              <div id="collapse-card-token-safety" class="collapse show" aria-labelledby="card-token-safety"
                data-parent="#accordion">
                <div class="card-body">
                  <p>
                    This web app authenticates to Github API via <strong>HTTP Basic Authentication</strong>, but all API
                    calls
                    are done over <strong>SSL</strong>, so your personal access token is safe.
                  </p>
                  <p>
                    Although you can use your password in lieu of a personal access token, it is highly encouraged to
                    use
                    a personal access token.
                  </p>
                  <p><a
                      href="https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line">How
                      to create a personal access token.</a></p>
                </div>
              </div>
            </div>
            <div class="card">
              <div class="card-header" id="card-validation">
                <h5 class="mb-0">
                  <button class="btn btn-link" data-toggle="collapse" data-target="#collapse-card-validation"
                    aria-expanded="false" aria-controls="collapse-card-validation">
                    Validation and errors
                  </button>
                </h5>
              </div>
              <div id="collapse-card-validation" class="collapse" aria-labelledby="card-validation"
                data-parent="#accordion">
                <div class="card-body">
                  <p>
                    There is not much validation and error prevention, so you should check your changes before
                    commiting.
                  </p>
                  <p>
                    <code>Unprocessable Entity</code> usually means that you tried to commit a duplicate label name or
                    leave something empty.
                  </p>
                </div>
              </div>
            </div>
          </div>
          <!-- Accordion ends -->
        </div>
      </div>
      <!-- col -->

      <div class="col-12 col-md-6">
        <h3>Labels</h3>
        <button id="revert-button" type="button" class="btn btn-warning btn-block mb-2"
          data-loading-text="Resetting...">Revert to original</button>
        <button id="deleteAllButton" type="button" class="btn btn-danger btn-block mb-2"
          data-loading-text="Deleting...">Delete all labels</button>
        <form id="labelsForm" class="form-inline"></form>
        <button id="addNewLabelEntryButton" type="button" class="btn btn-success btn-block mb-3">Add a new label</button>
      </div>
    </div>
  </div>
  <!-- /container -->

  <!-- Le javascript
    ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
<<<<<<< HEAD
  <script src="js/jquery.js"></script>
  <script src="js/colorpicker.js"></script>
  <script src="js/bootstrap.bundle.js"></script>
=======
  <script src="https://kit.fontawesome.com/f5d835b71e.js" crossorigin="anonymous"></script>
  <script type="text/javascript" src="js/jquery.js"></script>
  <script type="text/javascript" src="js/colorpicker.js"></script>
  <script type="text/javascript" src="js/bootstrap.bundle.js"></script>
>>>>>>> Commit changes before rebase
  <script defer src="js/app.js"></script>

  <div id="loadingModal" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Please wait...</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>Commitingâ€¦</p>
        </div>
      </div>
    </div>
  </div>

  <div id="whatForModal" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">How this works</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <strong>Short:</strong>
          <p>Helps you to copy labels in any Github repository into one of yours.</p>

          <strong>Long:</strong>
          <p>This is helpful when you create a new repo on Github. When you create your labels in one of your repos you
            probably get used to them and would want them in your brand new repo as well. Ths website avoids the burden
            of manualy creating labels on Github.</p>

          <p>You don't have to copy labels from some repo, you can just add/remove/edit your repo's labels via here, and
            commit all the changes at once.</p>

          <strong>Usage</strong>
          <ul>
            <li>List your repo's existing labels</li>
            <li>Optional, copy another repo's labels and add them to your repo</li>
            <li>Edit the labels list as you wish</li>
            <li>Commit your changes</li>
          </ul>
          <p>Yes, not really much different from Github itself. But
            the thing is you can do those as bunches here. The main thing is that you can also copy another repo's
            labels into yours with or without some modifications.
          </p>
        </div>
      </div>
    </div>
  </div>
</body>

</html>
