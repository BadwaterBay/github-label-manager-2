<!--
  This file is part of github-label-manager.

  github-label-manager is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  github-label-manager is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with github-label-manager.  If not, see <http://www.gnu.org/licenses/>.
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Github Label Manager</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="legend">
  <meta name="author" content="github.com/destan">

  <!-- Le styles -->
  <link href="css/bootstrap.css" rel="stylesheet">
  <!-- <link href="css/bootstrap-responsive.css" rel="stylesheet"> -->
  <link href="css/colorpicker.css" rel="stylesheet" />
  <link href="css/app.css" rel="stylesheet" />

  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
      <![endif]-->

    </head>

    <body>
      <a href="https://github.com/destan/github-label-manager"><img style="position: absolute; top: 0; right: 0; border: 0; z-index: 1031;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
      <div class="navbar sticky-top navbar-expand-md navbar-light bg-light">
        <div class="container">
          <a class="navbar-brand" href="#">&nbsp;Github Label Manager</a>
          <ul class="navbar-nav">
            <li class="active"><a href="#">Manage your labels</a></li>
            <li><a href="#whatForModal" data-toggle="modal">What this thing does anyway?</a></li>
          </ul>
        </div>
      </div>

      <div id="content" class="container">

        <div class="row">
          <div class="col-12 col-md-4">

            <legend>Manage your Github labels</legend>
            <form autocomplete="on">
              <input id="targetUrl" type="url" class="input-block form-control" placeholder="owner:repo" onchange="copyToBelow(this)">
              <script type="text/javascript">
                function copyToBelow(element) {
                  document.getElementById('targetUsername').value = element.value.split(':')[0];
                }
              </script>
              <input id="targetUsername" type="url" class="input-block form-control" placeholder="username">
              <input id="githubPassword" type="password" class="input-block form-control" placeholder="token/password">
              <button id="listLabelsButton" type="button" class="btn btn-block btn-secondary" data-loading-text="Loading...">List labels in this repo</button>
            </form>

            <div id="optionalCopyContainer" class="card bg-light card-body mb-3">
              <button type="button" class="btn btn-block btn-secondary" data-toggle="collapse" data-target="#optionalCopyStuff">Copy an existing repo's labels (Optional)</button>
              <span class="form-text text-muted">You can apply any repository's labels and then change them to meet your needs then apply to your own repository.</span>
              <div id="optionalCopyStuff" class="collapse">
                <form class="form-inline">
                  <input id="copyUrl" type="url" class="input-block form-control" placeholder="username:repo">
                  <button id="copyFromRepoButton" type="button" class="btn btn-info"  data-loading-text="Copying...">Copy</button>
                  <span class="form-text text-muted">Can be any repo, no password or token required for copying.</span>
                </form>
              </div>
            </div>

            <button id="commitButton" type="button" class="btn btn-success btn-block btn-lg" disabled data-loading-text="Commiting...">Commit changes</button>

            <br>

            <div class="card bg-light card-body mb-3">
              <legend>Which repo is in use</legend>
              <pre><span id="targetIndicator">Not using any yet!</span></pre>
            </div>
          </div>

          <div class="col-12 col-md-4">
            <legend>Labels</legend>
            <form id="labelsForm" class="form-inline"></form>
            <button id="addNewLabelEntryButton" type="button" class="btn btn-success btn-block">Add new label</button>
            <button id="resetButton" type="button" class="btn btn-danger btn-block" data-loading-text="Resetting...">Reset labels</button>
          </div>

          <div class="col-12 col-md-4">
            <legend>Help</legend>
            <h4>Preface</h4>
            <p>First of all, this website works by making cross-site requests to Github's api <code>api.github.com</code>
and there is no other call is made to anywhere else.</p>
            <p class="mb-4">You can download this website, it also works offline.</p>

            <!-- Accordion stuff -->
            <div id="accordion">
              <div class="card">
                <div class="card-header" id="headingOne">
                  <h5 class="mb-0">
                    <button class="btn btn-link" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                      Validation and errors
                    </button>
                  </h5>
                </div>
            
                <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordion">
                  <div class="card-body">
                    There is not much validation and error prevention so you should check your changes before commiting.<br>
                    <code>Unprocessable Entity</code> usually means that you tried to commit a duplicate label name or leave something empty.
                  </div>
                </div>
              </div>
              <div class="card">
                <div class="card-header" id="headingTwo">
                  <h5 class="mb-0">
                    <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                      Is my password safe?
                    </button>
                  </h5>
                </div>
                <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion">
                  <div class="card-body">
                    This website authenticates to Github api via <code>HTTP Basic Authentication</code> but all api calls are done over <code>SSL</code> so your password is safe. More on <a href="http://en.wikipedia.org/wiki/Basic_access_authentication" target="_blank">Wikipedia</a>.
                    <br>
                    Note that your password is only sent to Github and and sent encrypted. It is encouraged to use a token instead of your password.
                  </div>
                </div>
              </div>
              <div class="card">
                <div class="card-header" id="headingThree">
                  <h5 class="mb-0">
                    <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                      Is my token safe?
                    </button>
                  </h5>
                </div>
                <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordion">
                  <div class="card-body">
                    This website authenticates to Github api via <code>HTTP Basic Authentication</code> but all api calls are done over <code>SSL</code> so your password is safe. More on <a href="http://en.wikipedia.org/wiki/Basic_access_authentication" target="_blank">Wikipedia</a>.
                    <br>
                    It is preferred to use a token instead of your password. For help with creating a token: <a href="https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line">Click here</a>
                  </div>
                </div>
              </div>
            </div>
            <!-- Accordion stuff ends -->
          </div>
        </div>
        <br>
        <br>
      </div> <!-- /container -->

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/jquery.js"></script>
    <script type="text/javascript" src="js/colorpicker.js"></script>
    <script src="js/bootstrap.bundle.js"></script>
    <script src="js/app.js"></script>

    <div id="loadingModal" class="modal fade" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Please wait...</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p>Commitingâ€¦</p>
          </div>
        </div>
      </div>
    </div>

    <div id="whatForModal" class="modal fade" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">What this thing does anyway?</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <strong>Short:</strong>
        <p>Helps you to copy labels in any Github repository into one of yours.</p>

        <strong>Long:</strong>
        <p>This is helpful when you create a new repo on Github. When you create your labels in one of your repos you probably get used to them and would want them in your brand new repo as well. Ths website avoids the burden of manualy creating labels on Github.</p>

        <p>You don't have to copy labels from some repo, you can just add/remove/edit your repo's labels via here, and commit all the changes at once.</p>

        <strong>Usage</strong>
        <ul>
          <li>List your repo's current label</li>
          <li>Copy (append) some other repos' labels into your current labels (optional)</li>
          <li>Edit the labels list as you wish</li>
          <li>Commit your changes</li>
        </ul>
        <p>Yes, not really much different from Github itself. But
                    the thing is you can do those as bunches here. The main thing is that you can also copy another repos's labels into yours with or without some modifications.</p>
          </div>
        </div>
      </div>
    </div>
  </body>
  </html>
